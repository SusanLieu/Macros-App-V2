{"remainingRequest":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/susanlieu/Macros-App-V2/client/src/views/Accounts.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/susanlieu/Macros-App-V2/client/src/views/Accounts.vue","mtime":1571479336781},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/css-loader/index.js","mtime":1571240119580},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1571240122000},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/cache-loader/dist/cjs.js","mtime":1571240119319},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js","mtime":1571240121999}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#accounts {\n  text-align: center;\n}\n\n#accountList a {\n  color: #2c3e50;\n}\n\nh2 {\n  padding: 1em;\n}\n\n.heading-highlight {\n-webkit-font-smoothing: antialiased;\n-webkit-tap-highlight-color: transparent;\n-webkit-box-direction: normal;\nfont-weight: 600;\nfont-size: 2rem;\npadding-left: .3125rem;\npadding-right: .3125rem;\nbackground-image: linear-gradient(0deg,#ffe7e2 50%,transparent 50%);\n}\n\n.background {\n  background-color: #fdfdfd;\n  background-size: cover; /* cover will scale the image so that the smallest dimension = the widest dimension of the box */\n  background-position: center; /* vs the top-left that is default */\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n",{"version":3,"sources":["Accounts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Accounts.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"accounts\" class=\"background\">\n    <b-container>\n      <b-row>\n        <b-col cols=\"6\" offset=\"3\">\n          <h2>\n            <span class=\"heading-highlight\">Choose your account</span>\n          </h2>\n        </b-col>\n      </b-row>\n      <b-row style=\"margin-top: -1.2em; padding-bottom: 1.5em\" align-h=\"center\">\n        <b-col cols=\"3\">\n          <b-button size=\"sm\" variant=\"outline-danger\" @click=\"deleteAllAccounts\">Delete all accounts</b-button>\n        </b-col>\n      </b-row>\n      <b-row v-if=\"errorMessage\" class=\"errorMessage\" align-h=\"center\">\n        <b-col>\n          {{errorMessage}}\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col id=\"accountList\" class=\"mt-1\" cols=\"8\" offset=\"2\" v-for=\"account in accounts\" :key=\"account._id\">\n          <b-card class=\"px-4 shadow-sm\">\n            <b-button type=\"button\" class=\"close\" @click=\"deleteAccount(account._id)\">&times;</b-button>\n            <b-button style=\"color: #2c3e50;\" variant=\"link\" class=\"text-decoration-none\" @click=\"setCookies(account.diet, account._id, account.profile)\">\n              <strong>{{ account.email }}</strong><br>\n              {{ account.name }}\n            </b-button>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Accounts',\n  data() {\n    return {\n      accounts: [],\n      errorMessage: ''\n    }\n  },\n  created() {\n    this.getAccounts()\n  },\n  methods: {\n    getAccounts() {\n      Api.get('/accounts')\n        .then(response => {\n          this.accounts = response.data.accounts\n        })\n        .catch(error => {\n          this.accounts = []\n          this.errorMessage = error.response.data.message\n        })\n    },\n    deleteAccount(id) {\n      if (confirm('Are you sure?')) {\n        Api.delete(`/accounts/${id}`)\n          .then(response => {\n            console.log(response.data.message)\n            var index = this.accounts.findIndex(account => account._id === id)\n            this.accounts.splice(index, 1)\n          })\n          .catch(error => {\n            this.errorMessage = error.response.data.message\n          })\n      }\n    },\n    deleteAllAccounts() {\n      if (confirm('Are you sure?')) {\n        Api.delete('/accounts')\n          .then(response => {\n            this.accounts = []\n          })\n          .catch(error => {\n            this.errorMessage = error\n          })\n      }\n    },\n    setCookies(diet, account, profile) {\n      this.$cookies.set('diet', diet)\n      this.$cookies.set('account', account)\n      this.$cookies.set('profile', profile)\n      this.$router.push({\n        name: 'diary'\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#accounts {\n  text-align: center;\n}\n\n#accountList a {\n  color: #2c3e50;\n}\n\nh2 {\n  padding: 1em;\n}\n\n.heading-highlight {\n-webkit-font-smoothing: antialiased;\n-webkit-tap-highlight-color: transparent;\n-webkit-box-direction: normal;\nfont-weight: 600;\nfont-size: 2rem;\npadding-left: .3125rem;\npadding-right: .3125rem;\nbackground-image: linear-gradient(0deg,#ffe7e2 50%,transparent 50%);\n}\n\n.background {\n  background-color: #fdfdfd;\n  background-size: cover; /* cover will scale the image so that the smallest dimension = the widest dimension of the box */\n  background-position: center; /* vs the top-left that is default */\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}
{"remainingRequest":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/susanlieu/Macros-App-V2/client/src/views/Accounts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/susanlieu/Macros-App-V2/client/src/views/Accounts.vue","mtime":1570741133633},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Accounts',\n  data() {\n    return {\n      accounts: []\n    }\n  },\n  created() {\n    this.getAccounts()\n  },\n  methods: {\n    getAccounts() {\n      Api.get('/accounts')\n        .then(response => {\n          this.accounts = response.data.accounts\n        })\n        .catch(error => {\n          this.accounts = []\n          console.log(error)\n        })\n        .then(() => {\n          // This code is always executed (after success or error).\n        })\n    },\n    deleteAccount(id) {\n      Api.delete(`/accounts/${id}`)\n        .then(response => {\n          console.log(response.data.message)\n          var index = this.accounts.findIndex(account => account._id === id)\n          this.accounts.splice(index, 1)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n}\n",{"version":3,"sources":["Accounts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Accounts.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"accounts\">\n    <h2 class=\"mt-5 heading\">Choose your account</h2>\n    <!-- <b-button type=\"button\" class=\"createButton\" @click=\"createAccount()\">Create Account</b-button> -->\n    <b-container class=\"mt-3\" v-for=\"account in accounts\" :key=\"account._id\">\n      <b-row>\n        <b-col md=\"4\" offset-md=\"4\">\n            <b-list-group id=\"accountList\">\n            <router-link :to=\"{ name: 'diary', params: {diary_id: account.diary, diet_id: account.diet} }\">\n              <strong>{{ account.email }}</strong>\n              <b-button type=\"button\" class=\"close\" @click=\"deleteAccount(account._id)\">&times;</b-button><br>\n              {{ account.name }}\n            </router-link>\n            </b-list-group>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Accounts',\n  data() {\n    return {\n      accounts: []\n    }\n  },\n  created() {\n    this.getAccounts()\n  },\n  methods: {\n    getAccounts() {\n      Api.get('/accounts')\n        .then(response => {\n          this.accounts = response.data.accounts\n        })\n        .catch(error => {\n          this.accounts = []\n          console.log(error)\n        })\n        .then(() => {\n          // This code is always executed (after success or error).\n        })\n    },\n    deleteAccount(id) {\n      Api.delete(`/accounts/${id}`)\n        .then(response => {\n          console.log(response.data.message)\n          var index = this.accounts.findIndex(account => account._id === id)\n          this.accounts.splice(index, 1)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n#accountList a {\n  color: #2c3e50;\n  text-align: left;\n}\n\n.heading {\n  padding-bottom: 40px;\n}\n</style>\n"]}]}
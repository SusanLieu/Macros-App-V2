{"remainingRequest":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/susanlieu/Macros-App-V2/client/src/views/Profile.vue?vue&type=style&index=0&id=ced23842&scoped=true&lang=css&","dependencies":[{"path":"/Users/susanlieu/Macros-App-V2/client/src/views/Profile.vue","mtime":1571331187773},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/css-loader/index.js","mtime":1571240119580},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1571240122000},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/cache-loader/dist/cjs.js","mtime":1571240119319},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js","mtime":1571240121999}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#profile {\n  text-align: left;\n}\n",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"profile\" class=\"background\">\n      <h2 class=\"heading centerTitle\">\n        <span class=\"heading-highlight\">Profile</span>\n      </h2>\n        <b-container>\n              <b-row align-h=\"center\">\n                <b-col cols=\"6\">\n                  <b-card class=\"p-3 shadow-sm\">\n                    <div v-if=\"errorMessage\" class=\"errorMessage\">\n                      {{errorMessage}}\n                    </div>\n                    <b-form @submit=\"onSubmit\">\n                    <b-form-group label-cols-sm=\"3\" id=\"profileInput\" :invalid-feedback=\"invalidFeedback\" :state=\"state\" label=\"Age:\" label-for=\"age\"\n                    >\n                        <b-form-input\n                        id=\"age\"\n                        v-model=\"form.age\"\n                        type=\"number\"\n                        required\n                        :state=\"state\"\n                        placeholder=\"Enter age\"\n                        ></b-form-input>\n                    </b-form-group>\n                    <b-form-group label-cols-sm=\"3\" id=\"profileInput\" label=\"Height:\" label-for=\"height\"\n                    >\n                        <b-form-input\n                        id=\"height\"\n                        v-model=\"form.height\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter height (cm)\"\n                        ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"profileInput\" label=\"Weight:\" label-for=\"weight\">\n                        <b-form-input\n                        id=\"weight\"\n                        v-model=\"form.weight\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter weight (kg)\"\n                        >\n                        </b-form-input>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"profileInput\" label=\"Gender:\" label-for=\"gender\">\n                        <b-form-select\n                        id=\"gender\"\n                        v-model=\"form.gender\"\n                        :value=\"null\"\n                        :options=\"{ 'male': 'Male', 'female': 'Female' }\"\n                        required\n                        >\n                          <template v-slot:first>\n                            <option :value=\"null\">Choose...</option>\n                          </template>\n                        </b-form-select>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"profileInput\" label=\"Activity level:\" label-for=\"activityLevel\">\n                        <b-form-select\n                        id=\"activityLevel\"\n                        v-model=\"form.activityLevel\"\n                        :value=\"null\"\n                        :options=\"{ 'sedentary': 'Sedentary', 'light': 'Light', 'moderate': 'Moderate', 'active': 'Active', 'very active': 'Very active' }\"\n                        required\n                        >\n                          <template v-slot:first>\n                            <option :value=\"null\">Choose...</option>\n                          </template>\n                        </b-form-select>\n                    </b-form-group>\n                    <div class=\"text-right\">\n                    <b-button type=\"submit\" pill variant=\"outline-primary\">Next</b-button>&nbsp;\n                    <b-button id=\"cancel-button\" type=\"button\" pill variant=\"outline-danger\" @click=\"deleteAccount()\">Cancel</b-button>\n                    <b-tooltip target=\"cancel-button\" placement=\"bottom\">\n                    <strong>Warning!</strong> Profile must be filled out in order to complete registration\n                    </b-tooltip>\n                    </div>\n                    </b-form>\n                </b-card>\n                </b-col>\n            </b-row>\n        </b-container>\n    </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Profile',\n  data() {\n    return {\n      message: '',\n      form: {\n        age: '',\n        height: '',\n        weight: '',\n        gender: '',\n        activityLevel: ''\n      },\n      errorMessage: '',\n      account_id: this.$cookies.get('new_account')\n    }\n  },\n  computed: {\n    state() {\n      return this.form.age <= 120 && this.form.age >= 1 ? true : false\n    },\n    invalidFeedback() {\n      if (this.form.age <= 120 && this.form.age >= 1) {\n        return ''\n      } else {\n        return 'Enter a number between 1 - 120'\n      }\n    }\n  },\n  methods: {\n    onSubmit(evt) {\n      evt.preventDefault()\n      Api.post(`/accounts/${this.account_id}/profiles`, this.form)\n        .then(response => {\n          alert('Registered profile successfully')\n          this.$cookies.set('new_profile', response.data.profile)\n          this.$router.push({\n            name: 'diet'\n          })\n        })\n        .catch(error => {\n          this.errorMessage = error.response.data.message\n        })\n    },\n    deleteAccount() {\n      Api.delete(`/accounts/${this.account_id}`)\n        .then(response => {\n          console.log(response.data)\n          this.$router.push({\n            name: 'home'\n          })\n        })\n        .catch(error => {\n          this.errorMessage = error.response.data.message\n        })\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n#profile {\n  text-align: left;\n}\n</style>\n"]}]}
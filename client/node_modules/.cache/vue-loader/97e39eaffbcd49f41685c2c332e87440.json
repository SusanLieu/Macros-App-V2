{"remainingRequest":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/susanlieu/Macros-App-V2/client/src/views/Diet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/susanlieu/Macros-App-V2/client/src/views/Diet.vue","mtime":1570978556389},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// @ is an alias to /src\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Diet',\n  data() {\n    return {\n      form: {\n        calories: '',\n        protein: '',\n        carbs: '',\n        fat: ''\n      }\n    }\n  },\n  computed: {\n    getCalories() {\n      var profile = this.$cookies.get('new_profile')\n      var weight = profile.weight\n      var height = profile.height\n      var age = profile.age\n      var activityLevel = this.getActivityLevel()\n      if (profile.gender === 'female') {\n        var bmr = 655 + (9.6 * weight) + (1.8 * height) - (4.7 * age)\n      } else {\n        bmr = 66 + (13.7 * weight) + (5 * height) - (6.8 * age)\n      }\n      return parseInt(bmr * activityLevel)\n    }\n  },\n  methods: {\n    getActivityLevel() {\n      var profile = this.$cookies.get('profile')\n      if (profile.activityLevel === 'sedentary') {\n        return 1.2\n      }\n      if (profile.activityLevel === 'light') {\n        return 1.375\n      }\n      if (profile.activityLevel === 'moderate') {\n        return 1.55\n      }\n      if (profile.activityLevel === 'active') {\n        return 1.725\n      }\n      if (profile.activityLevel === 'very active') {\n        return 1.9\n      }\n    },\n    onSubmit(evt) {\n      evt.preventDefault()\n      var account_id = this.$cookies.get('new_account')\n      Api.post(`/accounts/${account_id}/diets`, this.form)\n        .then(response => {\n          alert('Registered diet settings successfully')\n        })\n        .catch(error => {\n          console.log(error)\n          alert('Something went wrong.')\n        })\n      Api.post(`/accounts/${account_id}/diaries`)\n        .then(response => {\n          alert('Created diary')\n          this.$router.push({\n            name: 'accounts'\n          })\n        })\n        .catch(error => {\n          console.log(error)\n          alert('Something with diary went wrong')\n        })\n    },\n    deleteAccount() {\n      var account_id = this.$cookies.get('new_account')\n      Api.delete(`/accounts/${account_id}`)\n        .then(response => {\n          console.log(response.data)\n          this.$router.push({\n            name: 'home'\n          })\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n}\n",{"version":3,"sources":["Diet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Diet.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"diet\" class=\"background\">\n      <h2 class=\"heading centerTitle\">\n        <span class=\"heading-highlight\">Diet settings</span>\n      </h2>\n        <b-container>\n              <b-row align-h=\"center\">\n                <b-col cols=\"6\">\n                  <b-card class=\"p-3 shadow-sm\">\n                    <h5>Your maintenance calories: {{ getCalories }}</h5>\n                    <p>This calculation is based on the previous information entered from your profile.</p>\n                    <b-form @submit=\"onSubmit\">\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Goal calories:\" label-for=\"calories\"\n                    >\n                        <b-form-input\n                        id=\"calories\"\n                        v-model=\"form.calories\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter calories\"\n                        ></b-form-input>\n                    </b-form-group>\n\n                    <!-- Add macros headers -->\n\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Protein:\" label-for=\"protein\"\n                    >\n                        <b-form-input\n                        id=\"protein\"\n                        v-model=\"form.protein\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter protein percentage\"\n                        ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Carbs:\" label-for=\"carbs\">\n                        <b-form-input\n                        id=\"carbs\"\n                        v-model=\"form.carbs\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter carbohydrate percentage\"\n                        >\n                        </b-form-input>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Fat:\" label-for=\"fat\">\n                        <b-form-input\n                        id=\"fat\"\n                        v-model=\"form.fat\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter fat percentage\"\n                        >\n                        </b-form-input>\n                    </b-form-group>\n                    <div class=\"text-right\">\n                    <b-button type=\"submit\" pill variant=\"outline-primary\">Next</b-button>&nbsp;\n                    <b-button id=\"cancel-button\" type=\"button\" pill variant=\"outline-danger\" @click=\"deleteAccount()\">Cancel</b-button>\n                    <b-tooltip target=\"cancel-button\" placement=\"bottom\">\n                    <strong>Warning!</strong> Diet must be filled out in order to complete registration\n                    </b-tooltip>\n                    <!-- ADD function for pop up \"Diet must be filled out in order to complete account creation. Are you sure you want to cancel?\"\n                    If \"Yes\" delete account and redirect to home page, if \"No, continue\" bring back to page -->\n                    </div>\n                    </b-form>\n                </b-card>\n                </b-col>\n            </b-row>\n        </b-container>\n    </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Diet',\n  data() {\n    return {\n      form: {\n        calories: '',\n        protein: '',\n        carbs: '',\n        fat: ''\n      }\n    }\n  },\n  computed: {\n    getCalories() {\n      var profile = this.$cookies.get('new_profile')\n      var weight = profile.weight\n      var height = profile.height\n      var age = profile.age\n      var activityLevel = this.getActivityLevel()\n      if (profile.gender === 'female') {\n        var bmr = 655 + (9.6 * weight) + (1.8 * height) - (4.7 * age)\n      } else {\n        bmr = 66 + (13.7 * weight) + (5 * height) - (6.8 * age)\n      }\n      return parseInt(bmr * activityLevel)\n    }\n  },\n  methods: {\n    getActivityLevel() {\n      var profile = this.$cookies.get('profile')\n      if (profile.activityLevel === 'sedentary') {\n        return 1.2\n      }\n      if (profile.activityLevel === 'light') {\n        return 1.375\n      }\n      if (profile.activityLevel === 'moderate') {\n        return 1.55\n      }\n      if (profile.activityLevel === 'active') {\n        return 1.725\n      }\n      if (profile.activityLevel === 'very active') {\n        return 1.9\n      }\n    },\n    onSubmit(evt) {\n      evt.preventDefault()\n      var account_id = this.$cookies.get('new_account')\n      Api.post(`/accounts/${account_id}/diets`, this.form)\n        .then(response => {\n          alert('Registered diet settings successfully')\n        })\n        .catch(error => {\n          console.log(error)\n          alert('Something went wrong.')\n        })\n      Api.post(`/accounts/${account_id}/diaries`)\n        .then(response => {\n          alert('Created diary')\n          this.$router.push({\n            name: 'accounts'\n          })\n        })\n        .catch(error => {\n          console.log(error)\n          alert('Something with diary went wrong')\n        })\n    },\n    deleteAccount() {\n      var account_id = this.$cookies.get('new_account')\n      Api.delete(`/accounts/${account_id}`)\n        .then(response => {\n          console.log(response.data)\n          this.$router.push({\n            name: 'home'\n          })\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n}\n</script>\n\n<style>\n#diet {\n    text-align: left;\n}\n</style>\n"]}]}
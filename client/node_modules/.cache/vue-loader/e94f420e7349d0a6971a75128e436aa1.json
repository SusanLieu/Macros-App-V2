{"remainingRequest":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/susanlieu/Macros-App-V2/client/src/views/Diet.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/susanlieu/Macros-App-V2/client/src/views/Diet.vue","mtime":1571240317096},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/css-loader/index.js","mtime":1571240119580},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1571240122000},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/cache-loader/dist/cjs.js","mtime":1571240119319},{"path":"/Users/susanlieu/Macros-App-V2/client/node_modules/vue-loader/lib/index.js","mtime":1571240121999}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#diet {\n    text-align: left;\n}\n",{"version":3,"sources":["Diet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA","file":"Diet.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"diet\" class=\"background\">\n      <h2 class=\"heading centerTitle\">\n        <span class=\"heading-highlight\">Diet settings</span>\n      </h2>\n        <b-container>\n              <b-row align-h=\"center\">\n                <b-col cols=\"6\">\n                  <b-card class=\"p-3 shadow-sm\">\n                    <div v-if=\"errorMessage\" class=\"errorMessage\">\n                      {{errorMessage}}\n                    </div>\n                    <h5>Your maintenance calories: {{ getCalories }}</h5>\n                    <p>This calculation is based on the previous information entered from your profile.</p>\n                    <b-form @submit=\"onSubmit\">\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Goal calories:\" label-for=\"calories\"\n                    >\n                        <b-form-input\n                        id=\"calories\"\n                        v-model=\"form.calories\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter calories\"\n                        ></b-form-input>\n                    </b-form-group>\n                    <div style=\"padding-bottom: 1em; padding-top: 1em; font-size: 1.2em; font-weight: 500\">\n                    Divide your macronutrients:\n                    </div>\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Protein:\" label-for=\"protein\"\n                    >\n                        <b-form-input\n                        id=\"protein\"\n                        v-model=\"form.protein\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter protein percentage\"\n                        ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Carbs:\" label-for=\"carbs\">\n                        <b-form-input\n                        id=\"carbs\"\n                        v-model=\"form.carbs\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter carbohydrate percentage\"\n                        >\n                        </b-form-input>\n                    </b-form-group>\n\n                    <b-form-group label-cols-sm=\"3\" id=\"dietInput\" label=\"Fat:\" label-for=\"fat\">\n                        <b-form-input\n                        id=\"fat\"\n                        v-model=\"form.fat\"\n                        type=\"number\"\n                        required\n                        placeholder=\"Enter fat percentage\"\n                        >\n                        </b-form-input>\n                    </b-form-group>\n                    <div class=\"text-right\">\n                    <b-button type=\"submit\" pill variant=\"outline-primary\">Next</b-button>&nbsp;\n                    <b-button id=\"cancel-button\" type=\"button\" pill variant=\"outline-danger\" @click=\"deleteAccount()\">Cancel</b-button>\n                    <b-tooltip target=\"cancel-button\" placement=\"bottom\">\n                    <strong>Warning!</strong> Diet must be filled out in order to complete registration\n                    </b-tooltip>\n                    </div>\n                    </b-form>\n                </b-card>\n                </b-col>\n            </b-row>\n        </b-container>\n    </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'Diet',\n  data() {\n    return {\n      form: {\n        calories: null,\n        protein: null,\n        carbs: null,\n        fat: null\n      },\n      errorMessage: '',\n      profile: this.$cookies.get('new_profile'),\n      account_id: this.$cookies.get('new_account')\n    }\n  },\n  computed: {\n    getCalories() {\n      var weight = this.profile.weight\n      var height = this.profile.height\n      var age = this.profile.age\n      var activityLevel = this.getActivityLevel()\n      if (this.profile.gender === 'female') {\n        var bmr = 655 + (9.6 * weight) + (1.8 * height) - (4.7 * age)\n      } else {\n        bmr = 66 + (13.7 * weight) + (5 * height) - (6.8 * age)\n      }\n      return parseInt(bmr * activityLevel)\n    }\n  },\n  methods: {\n    getActivityLevel() {\n      if (this.profile.activityLevel === 'sedentary') {\n        return 1.2\n      }\n      if (this.profile.activityLevel === 'light') {\n        return 1.375\n      }\n      if (this.profile.activityLevel === 'moderate') {\n        return 1.55\n      }\n      if (this.profile.activityLevel === 'active') {\n        return 1.725\n      }\n      if (this.profile.activityLevel === 'very active') {\n        return 1.9\n      }\n    },\n    onSubmit(evt) {\n      evt.preventDefault()\n      if (parseInt(this.form.protein) + parseInt(this.form.carbs) + parseInt(this.form.fat) !== 100){\n        this.errorMessage = \"Macronutrients split must add up to 100%\"\n      } else {\n      Api.post(`/accounts/${this.account_id}/diets`, this.form)\n        .then(response => {\n          console.log('Diet registered successfully')\n        })\n        .catch(error => {\n          this.errorMessage = error.response.data.message\n        })\n      Api.post(`/accounts/${this.account_id}/diaries`)\n        .then(response => {\n          alert('Created diary')\n          // set time out for router.push in order to display a message to the user e.g. \"Registration successful!\"\n          this.$router.push({\n            name: 'accounts'\n          })\n        })\n        .catch(error => {\n          this.errorMessage = error.response.data.message\n        })\n      }\n    },\n    deleteAccount() {\n      Api.delete(`/accounts/${this.account_id}`)\n        .then(response => {\n          console.log(response.data)\n          this.$router.push({\n            name: 'home'\n          })\n        })\n        .catch(error => {\n          this.errorMessag = error.response.data.message\n        })\n    }\n  }\n}\n</script>\n\n<style>\n#diet {\n    text-align: left;\n}\n</style>\n"]}]}